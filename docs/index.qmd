---
format:
  html:
    toc: true
    toc-depth: 4
    theme: [cosmo, notebooks/custom.scss]
    number-sections: false
    output-file: index.html
code-block-background: true

---
<style></style><style>.printedClojure .sourceCode {
  background-color: transparent;
  border-style: none;
}
</style><style>.clay-limit-image-width .clay-image {max-width: 100%}
.clay-side-by-side .sourceCode {margin: 0}
.clay-side-by-side {margin: 1em 0}
</style>
<script src="index_files/md-default0.js" type="text/javascript"></script><script src="index_files/md-default1.js" type="text/javascript"></script>
A Clojure library for analyzing heart rate variability from Polar device data.

## What this does

This project processes Pulse-to-Pulse Interval (PPI) data from Polar heart rate monitors to calculate RMSSD (Root Mean Square of Successive Differences) - a key measure of heart rate variability used in cardiovascular health and relaxation monitoring.

The main challenge we're solving: real-time HRV measurements are often noisy and jumpy, making them hard to interpret. This library provides smoothing algorithms and data quality checks to produce stable, meaningful HRV feedback.

## Table of contents

* [Main page](https://daslu.github.io/ppi-rmssd/)
* [API Reference](https://daslu.github.io/ppi-rmssd/ppi_docs.api_reference.html)
* [Getting the Data Ready](https://daslu.github.io/ppi-rmssd/ppi_docs.preparations.html)
* [Analysis: Data Smoothing/Cleaning and RMSSD Estimation](https://daslu.github.io/ppi-rmssd/ppi_docs.analysis.html)

## Key features

- **Data cleaning**: Handles malformed CSV files from Polar devices
- **Signal processing**: Implements various smoothing filters (moving averages, median filters, cascaded approaches)
- **Quality assessment**: Detects measurement discontinuities and data quality issues
- **RMSSD calculation**: Windowed computation with configurable parameters
- **Analysis notebooks**: Literate programming approach for research and visualization

## Structure

- `src/ppi/api.clj` - Core data processing functions
- `notebooks/` - Research notebooks with analysis and visualizations
- `test/` - Unit tests for the API functions

## Dependencies

Built on the Clojure data science ecosystem:

- [**Noj**](https://scicloj.github.io/noj/) - data science toolkit:
  - [**dtype-next**](https://cnuernber.github.io/dtype-next/) - array programming
  - [**tech.ml.dataset**](https://techascent.github.io/tech.ml.dataset/) - efficient datasets
  - [**Tablecloth**](https://scicloj.github.io/tablecloth/) - dataset ergonomics
  - [**Fastmath**](https://generateme.github.io/fastmath/clay/) - math
  - [**Tableplot**](https://scicloj.github.io/tableplot/) - plotting
  - [**Clay**](https://scicloj.github.io/clay/) - Literate programming and visualization

## Recommended workflow

* Add the raw data file under the `data` directory.
* Just explore most of the code in the REPL.
* For tests: `clj -M:test-main`.
* For visualizations, use Clay's [setup](integration) in your favourite editor.
* To render [the documentation](https://daslu.github.io/ppi-rmssd/), run the `dev/docs.clj` script. You will need [Quarto](https://quarto.org/) installed in your system.


```{=html}
<div style="background-color:grey;height:2px;width:100%;"></div>
```



```{=html}
<div><pre><small><small>source: <a href="https://github.com/daslu/ppi-rmssd/blob/main/notebooks/index.clj">notebooks/index.clj</a></small></small></pre></div>
```
